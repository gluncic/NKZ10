<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <title>NKZ – Zanimanja</title>
    <!-- Dodajemo meta tag za CSP kako bismo dozvolili inline skripte i skripte s unpkg.com -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://unpkg.com; script-src 'self' 'unsafe-inline' https://unpkg.com;">
    <style>
        body { font-family: sans-serif; margin: 2em; background: #f8f8f8; }
        .blok { margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #ddd; }
        a { cursor: pointer; text-decoration: none; font-weight: bold; padding: 6px; display: block; }
        ul { list-style-type: none; padding-left: 20px; }
        .opis { margin-left: 20px; margin-top: 5px; background: #f0f0f0; padding: 10px; font-style: italic; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Nacionalna klasifikacija zanimanja</h1>
    {% for item in rods %}
        <div class="blok" id="rod-{{ item.encoded }}">
            <a href="#" onclick="console.log('Clicked rod: {{ item.rod }}');"
               hx-get="/skupine/{{ item.encoded }}"
               hx-target="#rod-{{ item.encoded }}"
               hx-swap="outerHTML">
                {{ item.rod }}
            </a>
        </div>
    {% endfor %}
    
    <!-- Minimalni test htmx link -->
    <div class="blok" id="test">
      <a href="#" hx-get="/test" hx-target="#test" hx-swap="outerHTML">Minimalni test</a>
    </div>
    
    <!-- Učitavanje htmx skripte na kraju stranice -->
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script>
      console.log("htmx:", window.htmx);
    </script>
</body>
</html>
